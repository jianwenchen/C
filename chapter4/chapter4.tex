\documentclass{book}
\usepackage{listings}
\usepackage{CJKutf8}
\usepackage{amsmath}
\usepackage{amsthm}
\lstset{language=c++}
\begin{document}
\begin{CJK*}{UTF8}{gbsn}
\newtheorem{Exercise}{习题} 
\input{function} 
\end{CJK*}
\end{document}